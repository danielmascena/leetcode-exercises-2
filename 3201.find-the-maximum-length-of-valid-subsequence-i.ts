import { expect } from "bun:test";
/*
 * @lc app=leetcode id=3201 lang=typescript
 *
 * [3201] Find the Maximum Length of Valid Subsequence I
 */

// @lc code=start
function maximumLength(nums: number[]): number {
    const len = nums.length;
    var [pre=0] = nums;
    var cnt = 1;
    var odds = 0;
    var evens = 0;

    for (let i = 1; i < len; i++) {
        const cur = nums[i]!;

        if (nums[i-1]! % 2 !== cur % 2) {
            pre = cur;
            cnt++;
        }
    }
    for (let i = 0; i < len; i++) {
        if (nums[i]! % 2 === 0) {
            evens++;
        } else {
            odds++;
        }
    }
    //console.log(evens, odds,cnt)
    return Math.max(odds, evens, cnt);
};
// @lc code=end

maximumLength([1,5,9,4,2]);
expect(maximumLength([1,2,3,4])).toBe(4);
expect(maximumLength([1,2,1,1,2,1,2])).toBe(6);
expect(maximumLength([1,3])).toBe(2);
expect(maximumLength([1,5,9,4,2])).toBe(3);
expect(maximumLength([2,13,26,70,76])).toBe(4);
expect(maximumLength([6422478,4971433,3540498,3760796,5626721,1270864,3021018,7059251,4405800,3861039,136421,7161680,7400119,5983448,9868114,895571,7354127,107959,4672272,4261146,3469410,6569708,553470,259002,826235,479132,1965157,8755373,8937677,92264,1259307,4414594,6991453,218758,8540258,3235312,806131,383311,5611024,6042779,5238584,5530809,5516012,538662,5849020,3804524,1496961,1735384,4638455,7206961,8911368,4597562,8719155,8758276,9016869,3007026,5902658,3246362,1349036,7852004,9571802,3822863,2796283,4901463,7505092,4675677,9760199,8192002,6356419,9349843,8496808,5471278,9329630,5220778,623121,3971761,7938111,5702477,6749428,2053821,1607775,2616907,5145796,7770364,6714360,3871157,1463739,6464694,3859500,8330820,34123,8106520,3006103,1972603,9573687,8718925,5116963,9728493,1727768,9139858,2124259,8149769,7441606,6569639,7430443,3911445,6723661,782754,6232936,6935003,7433274,1614604,8806111,7751148,6615041,8109101,4002796,7122870,5810289,2885234,604890,5616399,2336800,441433,6225443,61683,8276548,6102944,7351337,3961839,9797382,6469775,4920372,8599273,5806549,5341002,4125426,6509576,7107315,4670424,2958869,3896820,2379682,1420369,6808141,7934269,9565386,8007091,6363172,9733180,1018154,5129180,4592628,6897516,9336649,7318025,7214432,3384976,7350537,4755020,5728535,1251374,2237158,1505444,6764910,9171025,3744501,6942505,619040,7010995,8757102,9601124,213839,7483098,5136458,768629,6868902,2072462,7844021,1312401,4862512,1661546,4172786,8320289,9211383,490296,7189243,7357298,142712,9113579,5375954,4976384,401254,9198161,5819457,8535207,7196900,5682808,160976,6118115,1090206,3879235,6719012,143434,5835816,9932057,3691843,1334895,388490,2683504,8203866,7823006,3538663,6968680,4609205,2789696,2705191,1602112,6512387,1968686,2570294,7903668,8956162,3085923,6047153,695790,6742788,6032589,7550638,9928140,9521601,4782651,2627591,6330163,3799482,2629449,8611938,4142300,3266871,4395068,8452676,9560702,9430761,1037590,9642620,9711099,3119331,6046796,14767,190771,420804,5504499,506325,9492154,1181806,6836851,5065384,8908515,6749449,974402,5883805,7204640,1788369,1857028,5411500,9332731,4661883,2948169,9199270,132654,9327889,1508599,9402811,8933678,6708873,9064589,5541904,2768597,7997624,280447,5237143,7917008,5673014,6491442,1724398,8672795,8053124,1136905,4214108,5536352,4324339,4874844,8648128,2670571,110983,8465038,8746837,7041212,5774603,6847761,6717466,4393113,3344286,1426311,4047126,9734377,9095533,9765061,559947,1221371,4023896,8905286,5375205,4235401,4510544,7276062,4837799,3468923,172082,3134109,7237049,2619788,6184203,1735640,3302486,2749875,2161696,894765,6638178,5058607,6190930,5427493,640392,312406,7642469,5892087,7505311,1741685,786041,1214082,7074712,5710433,8054217,9088425,954596,5831109,5347849,5965121,4570597,1038138,9497229,5806047,6781630,8715558,2511551,7021230,8115600,8637857,4864075,2790560,2108633,1240666,7823472,7203825,371729,8123890,4212654,7787695,6743705,3293934,8520489,2100178,5645880,5983411,2952161,5796726,9099557,9888983,6798121,5529723,7922003,2392306,5978045,5183172,3056198,3142421,7685957,516222,8302157,9408911,3834094,8931972,9034303,6175965,1916050,820803,3163385,3298323,2410483,9264257,1617121,5146864,7459106,3394867,731670,6681007,3348332,9434025,2707578,124036,8220319,1356593,5345327,7346593,4639984,2432432,6265271,5587308,1024327,9307148,8224438,4089217,9333199,604823,9555178,4948106,9617337,2367923,5511872,8672803,1003607,390872,1861210,7824078,7086081,8871150,1515222,1142640,4499427,1030365,2228217,2175282,9100602,8976103,7627089,4470682,2853560,7948579,4839313,7228046,4564953,6816932,9672980,6509811,8198472,1013706,9736919,6560368,3968019,220459,899623,8167408,4195019,87047,8659882,9145559,1572362,5432318,8097083,9814187,8479836,7389216,2908777,7086014,8254363,737858,7703702,3651827,7165205,4096286,3504220,1751556,7742863,995401,7965795,5337840,4809047,6976078,4841757,3725206,8704207,8048098,969695,6064464,1037304,9333573,24908,3462635,8125756,275308,7346350,215798,9186270,4807571,1038867,5912167,4731253,7145960,9496630,4963354,4313079,748330,8487730,8824384,3066263,5013117,2924785,2986639,9963617,2507431,799981,313750,4784613,752779,9214881,1865507,3513704,1538325,6387096,8728813,553958,590457,1772046,613382,229797,2699325,2187157,9276944,9732431,5392194,7896950,9961541,7453143,9989467,1923521,1020680,7308902,1257324,1051317,1595660,2812625,267384,2859270,6465460,2781828,4720343,6729135,1634581,5036586,4176212,2053128,4894266,9100343,6576356,7903147,6429494,2956175,2050629,8329431,4649183,7219447,8410357,7853131,4090953,9106750,350600,6165488,7815430,5222378,3476446,9905501,8609305,8288585,4611641,6790929,5722286,9625787,4261333,803825,4094024,3955853,7245965,8002946,1966368,3297954,9959955,6610542,8701943,7108831,1963237,8287141,3418187,5838592,6917250,3191910,7521217,8038137,7642690,394839,1101254,9842168,6400898,6216415,4335607,7968934,369025,4879351,8241242,2765818,615759,445062,375248,8673794,8136993,7911945,8426994,9142921,7498945,5457956,8466797,2745735,6424035,4047057,1729239,6759591,619694,2079414,6701735,708243,5023403,3526669,9318502,6476520,3250411,443107,4021949,2906524,1229372,4685233,9654137,9894759,140246,841881,4074412,9442480,5610017,4826941,1150785,3006889,3492876,1699867,6613929,960786,4480373,118439,2201381,4661050,7435734,4313538,2145204,518216,4465186,6204197,155682,8876279,4628260,393570,3789226,7990725,9422770,3481576,8707101,4641852,5045988,2455044,3178016,428665,2137552,3118198,2475545,2605336,6407467,5981868,7067669,2852778,5587392,9796111,8504939,8461696,5077788,2879420,2979492,5675536,7365809,8197378,4201089,1725484,2729261,1802043,9940961,2647848,3743943,4051359,5543947,1026115,6564284,1045126,7990456,369528,68699,4036991,7279466,9530047,1270439,2932598,8646181,6901502,5927033,238837,2184711,8345096,1124756,8646891,8689224,2393234,4171141,7465969,4324490,7121731,9549588,411029,6185032,6439718,5058241,2252998,8209641,657911,3215732,9299265,9005132,3544723,3654956,3803072,3848203,9421937,6181648,8711978,8632518,9933917,825794,496710,924230,9743506,6084236,8311005,169873,712348,1816570,7913016,2174448,3085606,780887,661880,3333098,8969794,4110894,1683886,9267478,238852,7521671,1704238,1360969,5327399,4072815,4132514,7534826,1791835,3030310,3506593,5911282,844306,7804129,5714957,7190889,2879339,353965,3400221,5967737,4139753,473801,1153706,3419339,8963840,1043035,9402323,9451638,7896659,6510834,3202184,6701113,1836738,9957920,9853797,8391132,3506464,8917869,5668930,5220177,7425964,2323501,1437811,5609372,2054729,3691423,2816959,2642225,4096279,9587569,4709655,8975787,5924910,4401794,1529330,986356,9602097,6412981,7824265,6219896,7647803,3739403,9340938,5224645,5086394,3368434,4529587,2332602,7504286,4364141,9631283,4563330,7651421,3921372,8571372,300772,5519490,9506445,9436421,7394885,5331712,839748,3500759,1428170,2843377,342484,8441389,1173738,7174461,6458136,3360625,3171934,5196860,3145608,7819600,6964716,2684681,8216834,1526531,1690141,7406222,3020164,3452111,7072650,2738790,2853855,2410469,9204604,7603907,1948038,7448127,4251911,9944565,3556743,7880241,7991428,331863,2452728,6383245,2039810,7535006,8462763,4706621,5467896,6625067,6975923,2853444,9065273,9374971,6901661,6057325,7871207,5501395,4664359,7188640,462058,8500988,3433232,8981871,8477431,522747,9607623,4884671,824490,4274209,7028596,3086576,1847360,7762387,4326796,1421192,283507,6251793,6886776,6367257,4061911,4417181,8535160,5618995,8758992,4197826,6099360,6868660,8761846,2293627,6697877,2164830,4748079,9407828,2523760,6596197,5152054,4424724,9877843,5300971,6169889,2506327,6465446,7820936,8124400,3556777,1394929,3576401,3828894,9323037,8242847,4834038,8784172,4127284,6392174,8211172,1003545,7250706,3942649,5402407,6486956,5738282,6564777,5484628,1155329,6534529,5089641,9505485,4689682,9792250,2458902,1173244,1430391,5566027,2759650,4244173,2497992,5402507,409643,7548115,3892624,4541015,830748,7025322,4699264,6966500,8590760])).toBe(527);

/**
 * Accepted
 * 951/951 cases passed (5 ms)
 * Your runtime beats 87.5 % of typescript submissions
 * Your memory usage beats 37.5 % of typescript submissions (69.5 MB)
 */